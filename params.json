{
  "name": "Finch 4 Alice",
  "tagline": "Provides an API within Alice 3 for interacting with a Finch robot",
  "body": "\r\n# Finch 4 Alice\r\n\r\nEver wanted to control your [Finch robot](http://www.finchrobot.com/) from within [Alice 3](http://www.alice.org/)?  Well, now you can!\r\n\r\nFinch 4 Alice provides a simple extension to Alice 3 that adds methods for controlling a Finch robot to all Transport subclass instances.  Cross-platform support is provided out-of-box for Microsoft Windows, Apple Macintosh OS X, and Linux operating systems.\r\n\r\n# Contents\r\n\r\n* [Installation and Building the Project](#installation-and-building-the-project)\r\n  * [Build Prerequisites](#build-prerequisites)\r\n    * [Alice 3](#alice-3)\r\n    * [JDK](#jdk)\r\n  * [Installation](#installation)\r\n    * [Direct install](#direct-install)\r\n    * [Multi-platform installer](#multi-platform-installer)\r\n    * [Manual installation](#manual-installation)\r\n    * [Building the Jar file only](#building-the-jar-file-only)\r\n  * [Using Finch 4 Alice](#using-finch-4-alice)\r\n    * [Confirming installation](#confirming-installation)\r\n    * [Connecting to a Finch](#connecting-to-a-finch)\r\n      * [Prerequisites](#prerequisites)\r\n      * [Example project](#example-project)\r\n  * [How it works](#how-it-works)\r\n    * [Additions to the STransport API](#additions-to-the-stransport-api)\r\n  * [Troubleshooting FAQ](#troubleshooting-faq)\r\n  * [Contributing](#contributing)\r\n  * [Bugs and Features Requests](#bugs-and-features-requests)\r\n  * [Disclaimers & License](#disclaimers--license)\r\n\r\n## Installation and Building the Project\r\n\r\n### Build Prerequisites\r\n\r\n#### Alice 3\r\n\r\nYou must have an installation of [Alice 3](http://www.alice.org/) on the build machine, preferrably installed in the default location.  This location varies by platform, as shown in the following table:\r\n\r\n| Platform | Default Installation Location                    |\r\n| -------- | ------------------------------------------------ |\r\n| Windows  | C:\\Program Files\\Alice 3                         |\r\n| Linux    | ~/Alice3                                         |\r\n| Max OS X | /Applications/Alice 3.app/Contents/Resources/app |\r\n\r\nFinch 4 Alice has been tested against Alice version 3.2.5.0.0.  Previous versions used a different type of installer and are not compatible.\r\n\r\nTo download a copy of Alice for your environment, visit the [Alice website](http://www.alice.org/).\r\n\r\n#### JDK\r\n\r\nYou must have the Java Development Kit (JDK) version 1.8 or newer installed and properly configured.  You can obtain a copy of the JDK [from Oracle](http://www.oracle.com/technetwork/java/javase/downloads/index.html), or from a distribution provided by your operating system vendor.  OpenJDK should work fine, if you don't feel like using the Oracle proprietary JDK.\r\n\r\n### Installation\r\n\r\nFinch 4 Alice provides several installation options.  You can build and install the prject directly from the command line, create an interactive multi-platform installer to distribute and use on multiple machines, or you can build the Jar only for manual installation.\r\n\r\n#### Direct install\r\n\r\nIf you wish to install Finch 4 Alice on the build machine, it can be installed directly by Gradle.  To accomplish this, execute the following command:\r\n\r\n```\r\n./gradlew install\r\n```\r\n\r\nThis will automatically perform the steps described under [Manual installation](manual-installation).\r\n\r\nBecause Alice is installed system-wide by default on Windows and Macintosh OS X, you will need to ensure you execute the command as Administrator (root on OS X) or the installation will likely fail due to lack of permissions.\r\n\r\nUnder Linux, you should be able to run the install as a normal user, as long as Alice is installed in the default location under that user's home directory.  If it is installed in a system-wide location like `/bin`, `/usr/bin`, or `/usr/local/bin` you will need to run the command as root with `sudo`.\r\n\r\n#### Multi-platform installer\r\n\r\nThis installer is the easiest to use for most end-users who do not have access to command line tools like git and gradle.  It provides an intuitive graphical installer that walks users through the installation process, doesn't require any special build tools, and will run on all of the supported platforms with a properly configured JRE.\r\n\r\n```\r\n./gradlew izPackCreateInstaller\r\n```\r\n\r\nOnce generated, you can find the installer under `build/distributions/finch4alice-<version>-installer.jar`.\r\n\r\nThe installer Jar can be executed using the following command:\r\n\r\n```\r\njava -jar finch4alice-<version>-installer.jar\r\n```\r\n\r\nDepending on your operating system configuration, you may also have alternative launch options.  For example, on Mac OS X systems with the Oracle JDK installed, you can launch the installer jar directly from Finder by simply double-clicking on the icon.\r\n\r\nA native Microsoft Windows executable installer can also be created from the installer Jar with the following command:\r\n\r\n```\r\n./gradlew launch4j\r\n```\r\n\r\nThe generated EXE will be placed under `build/distributions/finch4alice-<version>-setup.exe`.\r\n\r\n#### Manual installation\r\n\r\nIf for some reason the above options don't work for your particular situation, or you simply enjoy getting into the nitty gritty aspects of software hacking, then this is the section for you.\r\n\r\nTo manually install Finch 4 Alice:\r\n\r\n* First build the Jar as described above under [Building the Jar file only](#building-the-jar-file-only).\r\n```\r\n./gradlew jar\r\n```\r\n\r\n* Create a new subdirectory under the Alice `ext` directory named `ext/finch4alice`.\r\n```\r\nmkdir /path/to/alice/ext/finch4alice\r\n```\r\n\r\n* Copy the generated Jar file `build/distributions/finch4alice-<version>.jar` into the Alice `ext/finch4alice` directory, and rename it to `finch4alice.jar`.\r\n```\r\ncp ./build/finch4alice-0.3.jar /path/to/alice/ext/finch4alice/finch4alice.jar\r\n```\r\n\r\n* Create an Install4J vmoptions configuration file to instruct Alice to load the new Jar when it starts up.\r\n  * For Windows, copy the file `src/resources/Alice 3.vmoptions.windows` into the Alice main folder and rename it to `Alice 3.vmoptions`.\r\n  * For Linux, copy `src/resources/Alice 3.vmoptions.linux`:\r\n```\r\ncp \"src/resources/Alice 3.vmoptions.linux\" \"/path/to/alice/Alice 3.vmoptions\"\r\n```\r\n  * For Mac OS X, copy `src/resources/Alice 3.vmoptions.linux`:\r\n```\r\ncp \"src/resources/Alice 3.vmoptions.linux\" \"/Applications/Alice 3.app/Contents/vmoptions.txt\"\r\n```\r\n\r\nBecause Alice is installed system-wide by default on Windows, you must use an Administrator account and will likely need to confirm a few UAC dialogs to copy and rename the files.\r\n\r\nFor Mac OS X, the commands will need to be executed by a user in the `admin` group, or as `root` (using sudo).\r\n\r\nUnder Linux, you should be able to run the install as a normal user, as long as Alice is installed in the default location under that user's home directory.  If it is installed in a system-wide location like `/bin`, `/usr/bin`, or `/usr/local/bin` you will need to run the command as root with `sudo`.\r\n\r\n#### Building the Jar file only\r\n\r\nIf Alice 3 is installed in the default location, executing the following command from within the project folder will build the Jar file.\r\n\r\n```\r\n./gradlew jar\r\n```\r\n\r\nIf Alice is installed in a non-standard path, you can specify the correct path by providing it via the `aliceDir` command-line property value as follows:\r\n\r\n```\r\n./gradlew jar -PaliceDir=/path/to/alice3\r\n```\r\n\r\n## Using Finch 4 Alice\r\n\r\n### Confirming installation\r\n\r\nTo ensure that everything is installed and configured properly:\r\n\r\n* Launch Alice\r\n\r\n* When prompted to load a project, simple close the dialog by clicking 'Cancel'.\r\n\r\n![Select Project Dialog](images/readme/select_project_dialog.png \"Click the 'Cancel' button to close this dialog\")\r\n\r\n* Select the `Help -> Show System Properties` menu\r\n\r\n![Show System Properties Menu](images/readme/show_system_properties_menu.png \"The 'Show System Properties' menu\")\r\n\r\n* Click `Show...` to the right of `java.class.path`\r\n\r\n![Show System Properties Dialog](images/readme/show_system_properties_dialog.png \"The 'Show System Properties' dialog\")\r\n\r\n* Verify that the finch4alice jar is listed at the beginning of the class path.\r\n\r\n![System Property: java.class.path Dialog](images/readme/java_class_path_dialog.png \"The 'System Property: java.class.path' dialog\")\r\n\r\n### Connecting to a Finch\r\n\r\nNow that you have Finch 4 Alice installed, what can you do with it?  In this section, we'll go through a simple example and \"kick the tires\", so to speak.\r\n\r\n#### Prerequisites\r\n\r\n* You need an installation of Alice 3, with Finch 4 Alice installed.\r\n\r\n* You need a Finch robot, properly connected to your computer.  If you don't happen to have a Finch, they can be purchased from the [Finch Robot website](http://www.finchrobot.com/).\r\n\r\n* You will need to install the BirdBrain Robot Server.  You can find installers for various operating systems in the [BirdBrain Robot Server GitHub repository](https://github.com/BirdBrainTechnologies/BirdBrainRobotServer/tree/master/Packages).  Perhaps surprisingly, Finch 4 Alice doesn't actually communicate directly with a Finch robot.  It relies on the BirdBrain Robot Server to do that.  This simplifies the implementation and reduces the number of dependencies that would need to be patched into Alice.\r\n\r\n#### Example project\r\n\r\n- Start the BirdBrain Robot Server and connect your Finch robot.  The BirdBrain server window should look as follows when it detects a connected Finch:\r\n\r\n![The BirdBrain Robot Server with a connected Finch](images/readme/birdbrain_connected_finch.png \"The BirdBrain Robot Server with a connected Finch\")\r\n\r\n- Launch Alice and when prompted to select a project, create a new project based on the 'GRASS' theme.\r\n\r\n![Select Project Dialog](images/readme/select_project_dialog.png \"Select 'GRASS', then click the 'OK' button to create a new project\")\r\n\r\n- Click `Setup Scene`\r\n\r\n- Click `Transport classes`\r\n\r\n- Click `Watercraft classes`\r\n\r\n- Click `new FishingBoat()`\r\n\r\n- Click `Edit Code`\r\n\r\n- Drag the `finchSetLED` procedure from the pane on the left into the code window for 'myFirstMethod'\r\n- Select `Custom Whole Number...`, then `0` for the second parameter and `0` for the third parameter.\r\n- Enter `255` when prompted for the custom value for the first parameter.\r\n\r\n- Drag the `delay` procedure into 'myFirstMethod'\r\n- Select `2.0` for the number of seconds to delay\r\n\r\n- Drag the `finchSetLED` procedure into 'myFirstMethod'\r\n- Select `0` for all three parameters.\r\n\r\n- Drag the `say` procedure into 'myFirstMethod'\r\n- Select `Custom TextString...` and enter `All done` when prompted.\r\n\r\n- You are now ready to try running your test project.  Click the `Run` button and you should see the LED in the nose of your Finch turn red for two seconds, then turn off.\r\n\r\n> More example projects can be found in the [examples](examples) subfolder.\r\n\r\n## How it works\r\n\r\nAlice 3 doesn't directly provide an extension mechanism for adding additional functionality such as access to external libraries or jars from within the Alice editor itself.\r\n\r\nTo work around this, Finch 4 Alice causes the Java runtime to load a custom Jar file into the class path before the other Alice classes are loaded.  Due to the way that the Java class loader works, classes found earlier in the class path will override classes of the same name that are found later (that is, a first-come-first-served policy).\r\n\r\nThe Jar generated by Finch 4 Alice contains a replacement version of the `org.lgna.story.STransport` class within Alice which all \"transport\" objects (for example Automobile or Boat) are subclasses of.  Not counting inherited methods or properties, the implementation of that class within Alice itself is pretty minimal, consisting of a constructor and a single property.  That simplicity made it an ideal target for adding additional methods to.\r\n\r\nOne may wonder \"Why not add a new type of object within Alice to represent a Finch?\"  In one word: Complexity.  Due to how the Alice code is currently structured, adding an additional object type that could be selected from within the UI would have had far-reaching implications in terms of the number of classes that would need to be patched.  In the interests of promoting [Occam's razor](https://en.wikipedia.org/wiki/Occam's_razor) and the principle of simplicity, we chose to take a simpler route.  Specifically, it was easier to reason about what was needed to accomplish the task and get on with playing around with a Finch from within Alice :)\r\n\r\n### Additions to the STransport API\r\n\r\nFinch 4 Alice works by extending the STransport parent class within Alice.  Several new procedures and functions are added that expose the full range of functionality provided by the Finch robot.\r\n\r\n Check out [the Javadoc API](https://bradcfisher.github.io/finch4alice/api/0.3/) for the full API details.\r\n\r\n## Troubleshooting FAQ\r\n\r\n*Symptom*: Alice raises an exception when one of the example projects is loaded.\r\n\r\n*Cause*: This is most likely caused by trying to load a project into an installation of Alice that has not yet had Finch 4 Alice installed.  The example projects contain references to the new methods added by Finch 4 Alice, and exceptions are raised when those instructions are processed without the Finch 4 Alice code loaded.\r\n\r\n---\r\n\r\n*Symptom*: On Mac OS X, the finch responds sluggishly or infrequently when the BirdBrain Robot Server is not the foreground application.\r\n\r\n*Cause*: This behavior is usaully the result of the \"app nap\" feature of Mac OS X, which pauses background applications to reduce power usage.  The app nap feature should be disabled for the BirdBrain Robot Server since it must maintain a continuous connection to the Finch, and the pauses introduced by app nap do not allow that.\r\n\r\nTo disable app nap for the BirdBrain Robot Server:\r\n  - Open the Applications folder in Finder\r\n  - Select the BirdBrain Robot Server application\r\n  - Use Command-I or right-click and select Get Info to open the Info dialog\r\n  - Check \"Prevent App Nap\" and close the Info dialog\r\n\r\n## Contributing\r\n\r\nContributions are very welcome and are accepted through pull requests.  Simply create a [fork on GitHub](https://help.github.com/articles/fork-a-repo/), commit and push your updates to your fork, and then [submit a pull request](https://help.github.com/articles/using-pull-requests/) for review.\r\n\r\n## Bugs and Features Requests\r\n\r\nPlease submit all bug reports and feature requests to the project [issue tracker](../../issues/).\r\n\r\n## Disclaimers & License\r\n\r\nThe Finch 4 Alice project is not affiliated with either the Finch or Alice 3 projects or their respective intellectual property holders.\r\n\r\nThe Finch robot is produced by [BirdBrain Technologies LLC](http://www.birdbraintechnologies.com/).\r\n\r\nAlice 3 is developed by [Carnegie Mellon University](http://www.cs.cmu.edu/).\r\n\r\nThis software interacts with the [BirdBrain Robot Server](https://github.com/BirdBrainTechnologies/BirdBrainRobotServer) which is covered by a [Creative Commons Attribution-ShareAlike 3.0 Unported License](http://creativecommons.org/licenses/by-sa/3.0/).\r\n\r\n---\r\n\r\nFinch 4 Alice is released under the BSD 2-Clause License\r\n\r\nCopyright (c) 2015, Brad Fisher  \r\nAll rights reserved.\r\n\r\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\r\n\r\n1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\r\n\r\n2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\r\n\r\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.",
  "google": "UA-71822812-1",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}